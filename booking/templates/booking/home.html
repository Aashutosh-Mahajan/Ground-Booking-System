{% extends 'base.html' %}
{% load static %}
{% block title %}Home{% endblock %}

{% block content %}
<div class="relative bg-dark-900 overflow-hidden">
    <!-- Hero Section -->
    <div class="relative h-screen min-h-[600px] flex items-center justify-center">
        <!-- Background Slider -->
        <div id="hero-bg" class="absolute inset-0 z-0 transition-all duration-1000 ease-in-out bg-cover bg-center bg-no-repeat" 
             style="background-image: url('{% static 'images/VitGround1.jpg' %}');">
            <div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/25 to-black/60"></div>
        </div>

        <!-- Content -->
        <div class="relative z-10 container mx-auto px-4 text-center">
            <span class="inline-block py-1.5 px-5 rounded-full bg-white/15 backdrop-blur-md text-white text-xs md:text-sm font-bold mb-5 md:mb-7 border border-white/20 shadow-lg animate-fade-in-up tracking-wide uppercase">
                <span class="inline-block w-2 h-2 rounded-full bg-green-400 mr-2 animate-pulse"></span>
                Welcome to SportDeck
            </span>
            <h1 class="text-4xl sm:text-5xl md:text-7xl font-bold font-heading text-white mb-4 md:mb-6 leading-tight animate-fade-in-up delay-100 drop-shadow-[0_4px_24px_rgba(0,0,0,0.3)]">
                Book Your Ground <br/>
                <span class="bg-gradient-to-r from-blue-400 via-cyan-300 to-emerald-400 bg-clip-text text-transparent">In Seconds</span>
            </h1>
            <p class="text-base sm:text-lg md:text-xl text-white/80 mb-8 md:mb-10 max-w-2xl mx-auto leading-relaxed animate-fade-in-up delay-200 px-4 drop-shadow-[0_2px_8px_rgba(0,0,0,0.3)]">
                The ultimate platform for students and faculty to reserve sports grounds, event spaces, and recreational areas effortlessly.
            </p>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up delay-300 px-4">
                {% if request.session.student_email %}
                <a href="{% url 'student_dashboard' %}" class="group relative px-6 py-3 md:px-8 md:py-4 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold rounded-xl overflow-hidden shadow-xl shadow-blue-600/30 hover:shadow-blue-500/50 transition-all hover:-translate-y-1 w-full sm:w-auto">
                    <span class="relative z-10 flex items-center justify-center gap-2">
                        Book Now 
                        <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                    </span>
                    <div class="absolute inset-0 bg-gradient-to-r from-blue-500 to-cyan-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                </a>
                {% else %}
                <a href="{% url 'student_login' %}" class="group relative px-6 py-3 md:px-8 md:py-4 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold rounded-xl overflow-hidden shadow-xl shadow-blue-600/30 hover:shadow-blue-500/50 transition-all hover:-translate-y-1 w-full sm:w-auto">
                    <span class="relative z-10 flex items-center justify-center gap-2">
                        Get Started
                        <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                    </span>
                    <div class="absolute inset-0 bg-gradient-to-r from-blue-500 to-cyan-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                </a>
                <a href="#features" class="px-6 py-3 md:px-8 md:py-4 bg-white/15 text-white font-bold rounded-xl backdrop-blur-md border border-white/25 hover:bg-white/25 hover:border-white/40 transition-all hover:-translate-y-1 w-full sm:w-auto shadow-lg">
                    Learn More
                </a>
                {% endif %}
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="absolute bottom-10 left-1/2 -translate-x-1/2 animate-bounce text-white/60">
            <svg class="w-6 h-6 drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
        </div>
    </div>



    <!-- Features Section -->
    <div id="features" class="py-24 bg-gradient-to-br from-slate-50 via-white to-blue-50/40 relative overflow-hidden">
        <div class="container mx-auto px-4 relative z-10">
            <div class="text-center max-w-3xl mx-auto mb-16 feature-reveal">
                <span class="inline-block px-4 py-1.5 rounded-full bg-primary-50 text-primary-600 text-sm font-semibold mb-4 border border-primary-100">Our Features</span>
                <h2 class="text-3xl md:text-5xl font-bold font-heading text-slate-900 mb-4">Why Choose <span class="text-primary-600">SportDeck</span>?</h2>
                <p class="text-slate-500 text-lg">Experience the future of campus facility management with our cutting-edge features.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="feature-card group bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-slate-100/80 hover:border-primary-200 hover:-translate-y-2" style="--delay: 0.1s;">
                    <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-primary-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-lg shadow-blue-500/25">
                        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/></svg>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-primary-600 transition-colors">Instant Booking</h3>
                    <p class="text-slate-500 leading-relaxed">
                        Skip the paperwork. Book your preferred ground in just a few clicks with our real-time reservation system.
                    </p>
                    <button onclick="openInstantBookingModal()" class="mt-6 flex items-center text-primary-600 text-sm font-semibold opacity-60 group-hover:opacity-100 transition-all duration-300 translate-x-0 group-hover:translate-x-1 cursor-pointer bg-transparent border-none p-0 relative z-10">
                        Learn more
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                    </button>
                </div>

                <!-- Feature 2 -->
                <div class="feature-card group bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-slate-100/80 hover:border-emerald-200 hover:-translate-y-2" style="--delay: 0.25s;">
                    <div class="w-14 h-14 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-lg shadow-emerald-500/25">
                        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"/></svg>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-emerald-600 transition-colors">Live Availability</h3>
                    <p class="text-slate-500 leading-relaxed">
                        View up-to-the-minute schedules. See available time slots and dates instantly to plan your games.
                    </p>
                    <button onclick="openLiveAvailabilityModal()" class="mt-6 flex items-center text-emerald-600 text-sm font-semibold opacity-60 group-hover:opacity-100 transition-all duration-300 translate-x-0 group-hover:translate-x-1 cursor-pointer bg-transparent border-none p-0 relative z-10">
                        Learn more
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                    </button>
                </div>

                <!-- Feature 3 -->
                <div class="feature-card group bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-slate-100/80 hover:border-violet-200 hover:-translate-y-2" style="--delay: 0.4s;">
                    <div class="w-14 h-14 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-lg shadow-violet-500/25">
                        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"/></svg>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-violet-600 transition-colors">Smart Management</h3>
                    <p class="text-slate-500 leading-relaxed">
                        Track your booking history, manage cancellations, and get instant status updates on your dashboard.
                    </p>
                    <button onclick="openSmartManagementModal()" class="mt-6 flex items-center text-violet-600 text-sm font-semibold opacity-60 group-hover:opacity-100 transition-all duration-300 translate-x-0 group-hover:translate-x-1 cursor-pointer bg-transparent border-none p-0 relative z-10">
                        Learn more
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Decorative blobs -->
        <div class="absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-primary-100 rounded-full mix-blend-multiply filter blur-3xl opacity-50 animate-blob"></div>
        <div class="absolute bottom-0 left-0 -ml-20 -mb-20 w-96 h-96 bg-secondary-100 rounded-full mix-blend-multiply filter blur-3xl opacity-50 animate-blob animation-delay-2000"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-violet-100/40 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"></div>
    </div>
</div>

<!-- ============================================================ -->
<!-- Instant Booking Modal Overlay -->
<!-- ============================================================ -->
<div id="instantBookingModal" class="modal-overlay" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <!-- Backdrop -->
    <div class="modal-backdrop" onclick="closeInstantBookingModal()"></div>

    <!-- Modal Container -->
    <div class="modal-container">
        <!-- Close Button -->
        <button onclick="closeInstantBookingModal()" class="modal-close-btn" aria-label="Close modal">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>

        <!-- Header -->
        <div class="modal-header">
            <div class="modal-icon-wrapper">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/>
                </svg>
            </div>
            <h2 id="modalTitle" class="text-xl sm:text-2xl font-bold font-heading text-slate-900">
                Instant Booking <span class="text-primary-600">– How It Works</span>
            </h2>
            <p class="text-slate-500 text-sm mt-1">Get your ground booked in 4 simple steps</p>
        </div>

        <!-- Divider -->
        <div class="modal-divider"></div>

        <!-- Section 1: Step-by-Step Flow -->
        <div class="modal-section">
            <h3 class="modal-section-title">Booking Flow</h3>
            <div class="modal-steps-grid">
                <!-- Step 1 -->
                <div class="modal-step">
                    <div class="modal-step-number modal-step-blue">1</div>
                    <div>
                        <p class="font-semibold text-slate-800 text-sm">Select Ground</p>
                        <p class="text-slate-400 text-xs mt-0.5">Choose from available facilities</p>
                    </div>
                </div>
                <!-- Step 2 -->
                <div class="modal-step">
                    <div class="modal-step-number modal-step-emerald">2</div>
                    <div>
                        <p class="font-semibold text-slate-800 text-sm">Choose Date</p>
                        <p class="text-slate-400 text-xs mt-0.5">Pick your preferred day</p>
                    </div>
                </div>
                <!-- Step 3 -->
                <div class="modal-step">
                    <div class="modal-step-number modal-step-violet">3</div>
                    <div>
                        <p class="font-semibold text-slate-800 text-sm">Pick Time Slot</p>
                        <p class="text-slate-400 text-xs mt-0.5">1-hour interval selection</p>
                    </div>
                </div>
                <!-- Step 4 -->
                <div class="modal-step">
                    <div class="modal-step-number modal-step-amber">4</div>
                    <div>
                        <p class="font-semibold text-slate-800 text-sm">Confirm Booking</p>
                        <p class="text-slate-400 text-xs mt-0.5">Review & submit instantly</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Divider -->
        <div class="modal-divider"></div>

        <!-- Section 2: Benefits -->
        <div class="modal-section">
            <h3 class="modal-section-title">Why It's Great</h3>
            <div class="modal-benefits-grid">
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Real-time confirmation</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">No manual approval delay</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Automated email notification</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Prevention of double booking</span>
                </div>
            </div>
        </div>

        <!-- CTA Button -->
        <div class="modal-cta-wrapper">
            <a href="{% url 'student_booking' %}" class="modal-cta-btn">
                Try Booking Now
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
            </a>
        </div>
    </div>
</div>

<!-- ============================================================ -->
<!-- Live Availability Modal Overlay                              -->
<!-- ============================================================ -->
<div id="liveAvailabilityModal" class="modal-overlay" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="liveModalTitle">
    <!-- Backdrop -->
    <div class="modal-backdrop" onclick="closeLiveAvailabilityModal()"></div>

    <!-- Modal Container -->
    <div class="modal-container">
        <!-- Close Button -->
        <button onclick="closeLiveAvailabilityModal()" class="modal-close-btn" aria-label="Close modal">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>

        <!-- Header -->
        <div class="modal-header">
            <div class="modal-icon-wrapper modal-icon-emerald">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"/>
                </svg>
            </div>
            <h2 id="liveModalTitle" class="text-xl sm:text-2xl font-bold font-heading text-slate-900">
                Live Availability
            </h2>
            <p class="text-slate-500 text-sm mt-1">Real-time slot tracking across all grounds</p>
        </div>

        <!-- Divider -->
        <div class="modal-divider"></div>

        <!-- Section 1: Core Capabilities -->
        <div class="modal-section">
            <h3 class="modal-section-title">Core Capabilities</h3>
            <div class="modal-benefits-grid">
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Real-time slot updates</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">No double booking</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Calendar integration</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Conflict prevention logic</span>
                </div>
            </div>
        </div>

        <!-- Divider -->
        <div class="modal-divider"></div>

        <!-- Section 2: Technical Strength -->
        <div class="modal-section">
            <h3 class="modal-section-title">Technical Strength</h3>
            <div class="modal-tech-box">
                <svg class="w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"/></svg>
                <p class="text-slate-600 text-xs leading-relaxed">Uses dynamic time slot validation with database locking to prevent race conditions and ensure booking consistency.</p>
            </div>
        </div>

        <!-- Divider -->
        <div class="modal-divider"></div>

        <!-- Section 3: Visual Flow -->
        <div class="modal-section">
            <h3 class="modal-section-title">How It Looks</h3>
            <div class="modal-flow">
                <!-- Step: Ground -->
                <div class="modal-flow-step">
                    <div class="modal-flow-icon modal-flow-icon-blue">
                        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 4.5H21m-3.75 4.5H21"/></svg>
                    </div>
                    <span class="text-xs font-medium text-slate-700">Ground A</span>
                </div>
                <!-- Arrow -->
                <svg class="modal-flow-arrow" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                <!-- Step: Date -->
                <div class="modal-flow-step">
                    <div class="modal-flow-icon modal-flow-icon-emerald">
                        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75"/></svg>
                    </div>
                    <span class="text-xs font-medium text-slate-700">Select Date</span>
                </div>
                <!-- Arrow -->
                <svg class="modal-flow-arrow" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                <!-- Step: Available -->
                <div class="modal-flow-step">
                    <div class="modal-flow-icon modal-flow-icon-green">
                        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    </div>
                    <span class="text-xs font-medium text-emerald-600">Available</span>
                </div>
                <!-- Arrow -->
                <svg class="modal-flow-arrow" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                <!-- Step: Booked (disabled) -->
                <div class="modal-flow-step modal-flow-step-disabled">
                    <div class="modal-flow-icon modal-flow-icon-red">
                        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/></svg>
                    </div>
                    <span class="text-xs font-medium text-slate-400">Booked</span>
                </div>
            </div>
        </div>

        <!-- CTA Button -->
        <div class="modal-cta-wrapper">
            <a href="{% url 'student_booking' %}" class="modal-cta-btn modal-cta-emerald">
                Check Availability
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
            </a>
        </div>
    </div>
</div>

<!-- ============================================================ -->
<!-- Smart Management Modal Overlay                               -->
<!-- ============================================================ -->
<div id="smartManagementModal" class="modal-overlay" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="smartModalTitle">
    <!-- Backdrop -->
    <div class="modal-backdrop" onclick="closeSmartManagementModal()"></div>

    <!-- Modal Container -->
    <div class="modal-container">
        <!-- Close Button -->
        <button onclick="closeSmartManagementModal()" class="modal-close-btn" aria-label="Close modal">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>

        <!-- Header -->
        <div class="modal-header">
            <div class="modal-icon-wrapper modal-icon-violet">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"/>
                </svg>
            </div>
            <h2 id="smartModalTitle" class="text-xl sm:text-2xl font-bold font-heading text-slate-900">
                Smart Management
            </h2>
            <p class="text-slate-500 text-sm mt-1">Complete control over your bookings & admin workflow</p>
        </div>

        <!-- Divider -->
        <div class="modal-divider"></div>

        <!-- Section 1: Features Overview -->
        <div class="modal-section">
            <h3 class="modal-section-title">Features Overview</h3>
            <div class="modal-benefits-grid">
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-violet-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Booking history dashboard</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-violet-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Cancellation workflow</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-violet-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Admin approval panel</span>
                </div>
                <div class="modal-benefit">
                    <svg class="w-4 h-4 text-violet-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-slate-600 text-sm">Role-based access control</span>
                </div>
            </div>
        </div>

        <!-- Divider -->
        <div class="modal-divider"></div>

        <!-- Section 2: Technical Highlight -->
        <div class="modal-section">
            <h3 class="modal-section-title">Security &amp; Access</h3>
            <div class="modal-tech-box modal-tech-violet">
                <svg class="w-4 h-4 text-violet-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-6-2.25a3.375 3.375 0 116.75 0 3.375 3.375 0 01-6.75 0zM12 12.75a7.5 7.5 0 00-7.5 7.5h15a7.5 7.5 0 00-7.5-7.5z"/></svg>
                <p class="text-slate-600 text-xs leading-relaxed">Powered by secure role-based authentication ensuring only authorized managers can approve, modify, or cancel bookings.</p>
            </div>
        </div>

        <!-- Divider -->
        <div class="modal-divider"></div>

        <!-- Section 3: Dashboard Mock Preview -->
        <div class="modal-section">
            <h3 class="modal-section-title">Dashboard Preview</h3>
            <div class="modal-dashboard-mock">
                <!-- Left Column -->
                <div class="modal-dash-col">
                    <div class="modal-dash-card">
                        <div class="modal-dash-card-header">
                            <svg class="w-3.5 h-3.5 text-primary-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                            <span>Upcoming Bookings</span>
                        </div>
                        <div class="modal-dash-row">
                            <span class="text-slate-600">Football Ground</span>
                            <span class="modal-dash-badge modal-badge-green">Confirmed</span>
                        </div>
                        <div class="modal-dash-row">
                            <span class="text-slate-600">Cricket Pitch</span>
                            <span class="modal-dash-badge modal-badge-yellow">Pending</span>
                        </div>
                    </div>
                    <div class="modal-dash-card">
                        <div class="modal-dash-card-header">
                            <svg class="w-3.5 h-3.5 text-slate-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m8.25 3v6.75m0 0l-3-3m3 3l3-3M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"/></svg>
                            <span>Past Bookings</span>
                        </div>
                        <div class="modal-dash-row">
                            <span class="text-slate-600">Basketball Court</span>
                            <span class="modal-dash-badge modal-badge-slate">Completed</span>
                        </div>
                    </div>
                </div>
                <!-- Right Column -->
                <div class="modal-dash-col">
                    <div class="modal-dash-card">
                        <div class="modal-dash-card-header">
                            <svg class="w-3.5 h-3.5 text-violet-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                            <span>Approval Status</span>
                        </div>
                        <div class="modal-dash-row">
                            <span class="text-slate-600">Request #124</span>
                            <span class="modal-dash-badge modal-badge-green">Approved</span>
                        </div>
                        <div class="modal-dash-row">
                            <span class="text-slate-600">Request #125</span>
                            <span class="modal-dash-badge modal-badge-yellow">Pending</span>
                        </div>
                        <div class="modal-dash-row">
                            <span class="text-slate-600">Request #126</span>
                            <span class="modal-dash-badge modal-badge-red">Rejected</span>
                        </div>
                    </div>
                    <div class="modal-dash-card">
                        <div class="modal-dash-card-header">
                            <svg class="w-3.5 h-3.5 text-red-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/></svg>
                            <span>Quick Actions</span>
                        </div>
                        <div class="modal-dash-action">
                            <span class="modal-dash-cancel-btn">Cancel Booking</span>
                            <span class="text-slate-400 text-[10px]">If permitted</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CTA Button -->
        <div class="modal-cta-wrapper">
            <a href="{% url 'student_dashboard' %}" class="modal-cta-btn modal-cta-violet">
                Go To Dashboard
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
            </a>
        </div>
    </div>
</div>

<style>
    @keyframes fade-in-up {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up {
        animation: fade-in-up 0.8s ease-out forwards;
        opacity: 0;
    }
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }
    
    @keyframes blob {
        0% { transform: translate(0px, 0px) scale(1); }
        33% { transform: translate(30px, -50px) scale(1.1); }
        66% { transform: translate(-20px, 20px) scale(0.9); }
        100% { transform: translate(0px, 0px) scale(1); }
    }
    .animate-blob {
        animation: blob 7s infinite;
    }
    .animation-delay-2000 {
        animation-delay: 2s;
    }
    .animation-delay-4000 {
        animation-delay: 4s;
    }

    /* Feature card slide-in from right */
    @keyframes slideInRight {
        0% {
            opacity: 0;
            transform: translateX(60px);
        }
        100% {
            opacity: 1;
            transform: translateX(0);
        }
    }
    .feature-card {
        opacity: 0;
        transform: translateX(60px);
    }
    .feature-card.is-visible {
        animation: slideInRight 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        animation-delay: var(--delay, 0s);
    }
    .feature-reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .feature-reveal.is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* ========================================= */
    /* Instant Booking Modal Styles              */
    /* ========================================= */

    /* Overlay: covers full viewport */
    .modal-overlay {
        position: fixed;
        inset: 0;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
        visibility: hidden;
        pointer-events: none;
    }
    .modal-overlay.is-open {
        visibility: visible;
        pointer-events: auto;
    }

    /* Backdrop: dark translucent bg */
    .modal-backdrop {
        position: absolute;
        inset: 0;
        background: rgba(15, 23, 42, 0.6);
        backdrop-filter: blur(4px);
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    .modal-overlay.is-open .modal-backdrop {
        opacity: 1;
    }

    /* Container: the card itself */
    .modal-container {
        position: relative;
        background: #fff;
        border-radius: 1.25rem;
        box-shadow: 0 25px 60px -12px rgba(0, 0, 0, 0.25);
        width: 100%;
        max-width: 520px;
        max-height: 90vh;
        overflow-y: auto;
        padding: 2rem;
        opacity: 0;
        transform: scale(0.92) translateY(20px);
        transition: opacity 0.35s cubic-bezier(0.16, 1, 0.3, 1),
                    transform 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .modal-overlay.is-open .modal-container {
        opacity: 1;
        transform: scale(1) translateY(0);
    }

    /* Smooth scrollbar inside modal */
    .modal-container::-webkit-scrollbar {
        width: 5px;
    }
    .modal-container::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 10px;
    }

    /* Close button */
    .modal-close-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        border-radius: 0.5rem;
        border: none;
        background: #f1f5f9;
        color: #64748b;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .modal-close-btn:hover {
        background: #e2e8f0;
        color: #1e293b;
    }

    /* Header area */
    .modal-header {
        text-align: center;
        margin-bottom: 0.25rem;
    }
    .modal-icon-wrapper {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 3rem;
        height: 3rem;
        border-radius: 0.75rem;
        background: linear-gradient(135deg, #3b82f6, #2563eb);
        box-shadow: 0 8px 20px -4px rgba(37, 99, 235, 0.35);
        margin-bottom: 0.75rem;
    }

    /* Divider line */
    .modal-divider {
        height: 1px;
        background: linear-gradient(90deg, transparent, #e2e8f0, transparent);
        margin: 1.25rem 0;
    }

    /* Section titles */
    .modal-section-title {
        font-size: 0.7rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #94a3b8;
        margin-bottom: 0.75rem;
    }

    /* Steps grid: 2x2 */
    .modal-steps-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.75rem;
    }
    @media (max-width: 480px) {
        .modal-steps-grid {
            grid-template-columns: 1fr;
        }
    }
    .modal-step {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem;
        border-radius: 0.75rem;
        background: #f8fafc;
        border: 1px solid #f1f5f9;
        transition: all 0.2s ease;
    }
    .modal-step:hover {
        background: #f1f5f9;
        border-color: #e2e8f0;
    }

    /* Step number badges */
    .modal-step-number {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        border-radius: 0.5rem;
        font-size: 0.75rem;
        font-weight: 700;
        color: #fff;
        flex-shrink: 0;
    }
    .modal-step-blue    { background: linear-gradient(135deg, #3b82f6, #2563eb); }
    .modal-step-emerald { background: linear-gradient(135deg, #10b981, #059669); }
    .modal-step-violet  { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
    .modal-step-amber   { background: linear-gradient(135deg, #f59e0b, #d97706); }

    /* Benefits list */
    .modal-benefits-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem 1rem;
    }
    @media (max-width: 480px) {
        .modal-benefits-grid {
            grid-template-columns: 1fr;
        }
    }
    .modal-benefit {
        display: flex;
        align-items: flex-start;
        gap: 0.5rem;
    }

    /* CTA button */
    .modal-cta-wrapper {
        margin-top: 1.5rem;
        text-align: center;
    }
    .modal-cta-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.75rem 2rem;
        border-radius: 0.75rem;
        font-weight: 700;
        font-size: 0.95rem;
        color: #fff;
        background: linear-gradient(135deg, #3b82f6, #2563eb);
        box-shadow: 0 8px 24px -4px rgba(37, 99, 235, 0.4);
        text-decoration: none;
        transition: all 0.3s ease;
    }
    .modal-cta-btn:hover {
        box-shadow: 0 12px 32px -4px rgba(37, 99, 235, 0.55);
        transform: translateY(-2px);
    }

    /* Body scroll lock when modal is open */
    body.modal-open {
        overflow: hidden;
    }

    /* ========================================= */
    /* Live Availability Modal – Extra Styles    */
    /* ========================================= */

    /* Emerald icon header variant */
    .modal-icon-emerald {
        background: linear-gradient(135deg, #10b981, #059669);
        box-shadow: 0 8px 20px -4px rgba(5, 150, 105, 0.35);
    }

    /* Technical highlight box */
    .modal-tech-box {
        display: flex;
        align-items: flex-start;
        gap: 0.625rem;
        padding: 0.75rem 1rem;
        border-radius: 0.75rem;
        background: linear-gradient(135deg, #ecfdf5, #f0fdf4);
        border: 1px solid #d1fae5;
    }

    /* Visual booking flow */
    .modal-flow {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.35rem;
        padding: 1rem 0.5rem;
        background: #f8fafc;
        border-radius: 0.75rem;
        border: 1px solid #f1f5f9;
        overflow-x: auto;
    }
    .modal-flow-step {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.375rem;
        min-width: 56px;
    }
    .modal-flow-step-disabled {
        opacity: 0.55;
    }
    .modal-flow-icon {
        width: 2rem;
        height: 2rem;
        border-radius: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }
    .modal-flow-icon-blue    { background: linear-gradient(135deg, #3b82f6, #2563eb); }
    .modal-flow-icon-emerald { background: linear-gradient(135deg, #10b981, #059669); }
    .modal-flow-icon-green   { background: linear-gradient(135deg, #22c55e, #16a34a); }
    .modal-flow-icon-red     { background: linear-gradient(135deg, #f87171, #ef4444); }
    .modal-flow-arrow {
        width: 1.25rem;
        height: 1.25rem;
        color: #cbd5e1;
        flex-shrink: 0;
    }

    /* Emerald CTA variant */
    .modal-cta-emerald {
        background: linear-gradient(135deg, #10b981, #059669);
        box-shadow: 0 8px 24px -4px rgba(5, 150, 105, 0.4);
    }
    .modal-cta-emerald:hover {
        box-shadow: 0 12px 32px -4px rgba(5, 150, 105, 0.55);
    }

    /* Responsive: stack flow on very small screens */
    @media (max-width: 400px) {
        .modal-flow {
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .modal-flow-arrow {
            display: none;
        }
    }

    /* ========================================= */
    /* Smart Management Modal – Extra Styles     */
    /* ========================================= */

    /* Violet icon header variant */
    .modal-icon-violet {
        background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        box-shadow: 0 8px 20px -4px rgba(124, 58, 237, 0.35);
    }

    /* Violet tech highlight box */
    .modal-tech-violet {
        background: linear-gradient(135deg, #f5f3ff, #ede9fe);
        border-color: #ddd6fe;
    }

    /* Dashboard mock grid */
    .modal-dashboard-mock {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.625rem;
    }
    @media (max-width: 480px) {
        .modal-dashboard-mock {
            grid-template-columns: 1fr;
        }
    }
    .modal-dash-col {
        display: flex;
        flex-direction: column;
        gap: 0.625rem;
    }
    .modal-dash-card {
        background: #f8fafc;
        border: 1px solid #f1f5f9;
        border-radius: 0.625rem;
        padding: 0.625rem 0.75rem;
        display: flex;
        flex-direction: column;
        gap: 0.375rem;
    }
    .modal-dash-card:hover {
        border-color: #e2e8f0;
    }
    .modal-dash-card-header {
        display: flex;
        align-items: center;
        gap: 0.375rem;
        font-size: 0.675rem;
        font-weight: 700;
        color: #475569;
        text-transform: uppercase;
        letter-spacing: 0.04em;
        padding-bottom: 0.375rem;
        border-bottom: 1px solid #f1f5f9;
    }
    .modal-dash-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 0.7rem;
        padding: 0.25rem 0;
    }

    /* Status badges */
    .modal-dash-badge {
        display: inline-flex;
        align-items: center;
        padding: 0.125rem 0.5rem;
        border-radius: 9999px;
        font-size: 0.6rem;
        font-weight: 600;
        letter-spacing: 0.02em;
    }
    .modal-badge-green {
        background: #dcfce7;
        color: #16a34a;
    }
    .modal-badge-yellow {
        background: #fef9c3;
        color: #a16207;
    }
    .modal-badge-red {
        background: #fee2e2;
        color: #dc2626;
    }
    .modal-badge-slate {
        background: #f1f5f9;
        color: #64748b;
    }

    /* Cancel button mock */
    .modal-dash-action {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.25rem 0;
    }
    .modal-dash-cancel-btn {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.625rem;
        border-radius: 0.375rem;
        font-size: 0.65rem;
        font-weight: 600;
        color: #dc2626;
        background: #fee2e2;
        border: 1px solid #fecaca;
        cursor: default;
    }

    /* Violet CTA variant */
    .modal-cta-violet {
        background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        box-shadow: 0 8px 24px -4px rgba(124, 58, 237, 0.4);
    }
    .modal-cta-violet:hover {
        box-shadow: 0 12px 32px -4px rgba(124, 58, 237, 0.55);
    }
</style>

<script>
    const heroBg = document.getElementById('hero-bg');
    const images = [
        "{% static 'images/VitGround1.jpg' %}",
        "{% static 'images/VitGround2.jpg' %}",
        "{% static 'images/VitGround3.jpg' %}",
        "{% static 'images/VitGround4.jpg' %}"
    ];
    
    let i = 0;
    
    // Preload images
    images.forEach(src => {
        const img = new Image();
        img.src = src;
    });

    setInterval(() => {
        i = (i + 1) % images.length;
        heroBg.style.backgroundImage = `url('${images[i]}')`;
    }, 5000);

    // Scroll-triggered slide-in animation for feature cards
    const observerOptions = { threshold: 0.15, rootMargin: '0px 0px -50px 0px' };
    const featureObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                featureObserver.unobserve(entry.target);
            }
        });
    }, observerOptions);
    document.querySelectorAll('.feature-card, .feature-reveal').forEach(el => featureObserver.observe(el));

    /* ========================================= */
    /* Instant Booking Modal Logic               */
    /* ========================================= */

    const modalEl = document.getElementById('instantBookingModal');

    /** Open the modal with animation */
    function openInstantBookingModal() {
        modalEl.classList.add('is-open');
        modalEl.setAttribute('aria-hidden', 'false');
        document.body.classList.add('modal-open');
    }

    /** Close the modal with animation */
    function closeInstantBookingModal() {
        modalEl.classList.remove('is-open');
        modalEl.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('modal-open');
    }

    /* Close on Escape key for all modals */
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            if (modalEl.classList.contains('is-open')) closeInstantBookingModal();
            if (liveModalEl.classList.contains('is-open')) closeLiveAvailabilityModal();
            if (smartModalEl.classList.contains('is-open')) closeSmartManagementModal();
        }
    });

    /* ========================================= */
    /* Live Availability Modal Logic             */
    /* ========================================= */

    const liveModalEl = document.getElementById('liveAvailabilityModal');

    /** Open Live Availability modal */
    function openLiveAvailabilityModal() {
        liveModalEl.classList.add('is-open');
        liveModalEl.setAttribute('aria-hidden', 'false');
        document.body.classList.add('modal-open');
    }

    /** Close Live Availability modal */
    function closeLiveAvailabilityModal() {
        liveModalEl.classList.remove('is-open');
        liveModalEl.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('modal-open');
    }

    /* ========================================= */
    /* Smart Management Modal Logic              */
    /* ========================================= */

    const smartModalEl = document.getElementById('smartManagementModal');

    /** Open Smart Management modal */
    function openSmartManagementModal() {
        smartModalEl.classList.add('is-open');
        smartModalEl.setAttribute('aria-hidden', 'false');
        document.body.classList.add('modal-open');
    }

    /** Close Smart Management modal */
    function closeSmartManagementModal() {
        smartModalEl.classList.remove('is-open');
        smartModalEl.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('modal-open');
    }
</script>
{% endblock %}
