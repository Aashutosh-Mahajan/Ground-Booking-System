<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Booking {{ status|default:"Update" }}</title>
  <style>
    /* Basic, email-safe styles (mostly inline-friendly) */
    body { margin: 0; padding: 0; background: #f5f7fb; font-family: Arial, Helvetica, sans-serif; color: #1f2937; }
    .container { max-width: 640px; margin: 0 auto; background: #ffffff; border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden; }
    .header { background: #1d4ed8; color: #ffffff; padding: 16px 20px; font-size: 18px; font-weight: bold; }
    .section { padding: 16px 20px; }
    .section h2 { margin: 0 0 8px 0; font-size: 16px; color: #111827; }
    .meta { background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; padding: 12px; }
    .meta-row { display: flex; justify-content: space-between; gap: 8px; margin-bottom: 6px; font-size: 14px; }
    .meta-row:last-child { margin-bottom: 0; }
    .label { color: #6b7280; }
    .value { color: #111827; font-weight: 600; }
    .table { width: 100%; border-collapse: collapse; margin-top: 8px; }
    .table th { text-align: left; font-size: 13px; color: #6b7280; padding: 10px 8px; border-bottom: 1px solid #e5e7eb; }
    .table td { font-size: 14px; color: #1f2937; padding: 10px 8px; border-bottom: 1px solid #f3f4f6; }
    .badge { display: inline-block; padding: 4px 10px; border-radius: 999px; font-size: 12px; font-weight: 700; }
    .approved { background: #d1fae5; color: #065f46; }
    .rejected { background: #fee2e2; color: #991b1b; }
    .pending { background: #fef3c7; color: #92400e; }
    .footer { padding: 16px 20px; font-size: 12px; color: #6b7280; }
    .brand { color: #ffffff; opacity: 0.95; font-weight: 600; }
  </style>
  <!--[if mso]>
  <style>
    .meta-row { display: block !important; }
  </style>
  <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="header">
        {{ site_name|default:"SportDeck" }} — Booking {{ status|default:"Update" }}
      </div>

      <div class="section">
        <h2>Summary</h2>
        <div class="meta">
          <div class="meta-row">
            <div class="label">Booker: </div>
            <div class="value">{{ booking.student_name }}</div>
          </div>
          <div class="meta-row">
            <div class="label">Ground: </div>
            <div class="value">{{ booking.ground }}</div>
          </div>
          <div class="meta-row">
            <div class="label">Sport: </div>
            <div class="value">{{ booking.sport|default:"—" }}</div>
          </div>
          <div class="meta-row">
            <div class="label">Date: </div>
            <div class="value">{{ booking.date|date:"M d, Y" }}</div>
          </div>
          <div class="meta-row">
            <div class="label">Time Slot: </div>
            <div class="value">{{ booking.time_slot }}</div>
          </div>
          <div class="meta-row">
            <div class="label">Equipment: </div>
            <div class="value">{{ booking.equipment|default:"None" }}</div>
          </div>
          <div class="meta-row">
            <div class="label">Status: </div>
            <div class="value">
              <span class="badge {% if booking.status == 'Approved' %}approved{% elif booking.status == 'Rejected' %}rejected{% else %}pending{% endif %}">
                {{ booking.status }}
              </span>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Players</h2>
        <table class="table" role="presentation" cellpadding="0" cellspacing="0">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Branch</th>
              <th>Year</th>
              <th>Division</th>
            </tr>
          </thead>
          <tbody>
            {% if players and players|length > 0 %}
              {% for p in players %}
                <tr>
                  <td>{{ forloop.counter }}</td>
                  <td>{{ p.name }}</td>
                  <td>{{ p.branch|default:"" }}</td>
                  <td>{{ p.year|default:"" }}</td>
                  <td>{{ p.division|default:"" }}</td>
                </tr>
              {% endfor %}
            {% else %}
              <tr>
                <td colspan="5" style="color:#6b7280; font-style: italic;">No players were listed.</td>
              </tr>
            {% endif %}
          </tbody>
        </table>
      </div>

      {% if booking.purpose %}
      <div class="section">
        <h2>Purpose</h2>
        <div>{{ booking.purpose }}</div>
      </div>
      {% endif %}

      <div class="footer">
        This is an automated message from {{ site_name|default:"SportDeck" }}. If you have any questions, please reply to this email.
      </div>
    </div>
  </body>
 </html>
